# Server
PORT=3001
NODE_ENV=development
HOST=0.0.0.0

# CORS
CORS_ORIGIN=http://localhost:3000

# Database
DATABASE_URL="file:./prisma/dev.db"

# Redis (for future use)
# REDIS_URL=redis://localhost:6379

# JWT (for future use)
# JWT_SECRET=your-secret-key-here
# JWT_EXPIRES_IN=7d

# GitHub API Configuration
# Required for GitHub integration (PR creation, status sync, etc.)
GITHUB_TOKEN=your-github-personal-access-token-or-app-token
GITHUB_OWNER=your-github-username-or-org
GITHUB_REPO=your-repository-name

# GitHub Webhook Configuration
# Secret token for verifying webhook signatures (HMAC-SHA256)
# Generate a secure random string and configure it in GitHub webhook settings
# If not set, signature verification will be skipped (development only)
GITHUB_WEBHOOK_SECRET=your-webhook-secret-token

# Node.js Permission Model (Security Sandboxing)
# Enable permission model for production security (requires Node.js 20+)
# When enabled, restricts filesystem access, child processes, and worker threads
# Defaults: development=disabled, production=enabled
NODE_PERMISSIONS=false

# Comma-separated list of project root paths that need filesystem access
# Only required when NODE_PERMISSIONS=true
# Example: PROJECT_ROOTS=/app/dist,/var/lib/jellos,/var/log/jellos
PROJECT_ROOTS=

# Allow spawning child processes (required for agent health checks)
# Default: true
ALLOW_CHILD_PROCESS=true

# Allow worker threads
# Default: false
ALLOW_WORKER=false

# System Pressure Monitoring (Circuit Breaker & Load Protection)
# Maximum event loop delay before returning 503 (milliseconds)
# Default: 1000
MAX_EVENT_LOOP_DELAY_MS=1000

# Maximum memory usage before returning 503 (megabytes)
# Default: 512
MAX_MEMORY_USAGE_MB=512

# Maximum heap usage before returning 503 (megabytes)
# Default: 384
MAX_HEAP_USAGE_MB=384

# Interval for pressure health checks (milliseconds)
# Default: 5000
PRESSURE_CHECK_INTERVAL_MS=5000

# Sample interval for pressure monitoring (milliseconds)
# Default: 1000
PRESSURE_SAMPLE_INTERVAL_MS=1000
